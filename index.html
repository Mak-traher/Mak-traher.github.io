<html>
<head>
    <meta charset="UTF-8"/>
    <style>
        body {
            font-family:sans-serif;
            text-align: center;
            margin: 0;
        }
        p {
            font-size: 24px;
            margin: 20px;
        }
        button {
            padding: 10px 20px;
            margin: 5px;
            font-size: 16px;
            cursor: pointer;
        }
        #zer{
            width: 100%;
            height: 10%;
        }
        div{
            width: 30%;
            margin: auto;
            margin-top: 15%;
            background: darkgray;
        }
        .history {
            font-family: monospace;
            background: #f0f0f0;
            padding: 10px;
            width: 97%;
            margin-top: 20%;
            max-width: 100%;
            overflow-y: auto;
            text-align: left;
        }
        .history-item {
            margin: 2px 0;
            padding: 2px 5px;
            border-bottom: 1px solid #ddd;
            display: inline;
        }
    </style>
</head>
<body>
    <div>
        <p>Счет: </p>
        <p id="count">0</p>
        <button onclick="plus()">Запуск</button>
        <button onclick="plus_speed()">Быстрый счет</button>
        <button onclick="stopi()">Стоп</button>
        </br>
        <button id="zer" onclick="zero()">Обнулить</button>
    </div>
    <div id="history" class="history"></div>

    <script>
        let count = document.getElementById("count");
        let historyElement = document.getElementById("history");
        let x = 0;
        let intervalId = null;
        let isRunning = false;
        let history = [];
        const MAX_HISTORY = 20;
        function addToHistory(number) {
            history.unshift(number);
            updateHistoryDisplay();
        }
        function updateHistoryDisplay() {
            historyElement.innerHTML = '';
            
            history.forEach((num, index) => {
                let item = document.createElement('div');
                item.className = 'history-item';
                item.textContent = `${num}`;
                historyElement.appendChild(item);
            });
        }

        function plus_speed() {
            x = 103222348723967018485186439059104575627262464195387;
            count.innerText = x;
            addToHistory(x);
        }

        function plus() {
            if (isRunning) return;
            
            isRunning = true;
            intervalId = setInterval(function() {
                x++;
                count.innerText = x;
                addToHistory(x);
            }, 1);
        }

        function stopi() {
            isRunning = false;
            if (intervalId) {
                clearInterval(intervalId);
                intervalId = null;
            }
        }

        function zero() {
            isRunning = false;
            if (intervalId) {
                clearInterval(intervalId);
                intervalId = null;
            }
            x = 0;
            count.innerText = x;
            history = []; // Очищаем историю
            updateHistoryDisplay();
        }
    </script>
</body>
</html>
